# ==============================================================================
# FT_TRANSCENDENCE ENVIRONMENT CONFIGURATION (EXAMPLE)
# ==============================================================================
# Instructions:
# 1. Copy this file to .env:  cp .env.example .env
# 2. Fill in the values as described in the comments below.
# ==============================================================================

# ------------------------------------------------------------------------------
# OAUTH PROVIDERS
# ------------------------------------------------------------------------------
# 1. GOOGLE: Go to Google Cloud Console > APIs & Services > Credentials.
#    - Create OAuth 2.0 Client ID.
#    - Authorized Redirect URI: https://localhost:443/api/auth/google/callback
GOOGLE_CLIENT_ID="ENTER_YOUR_GOOGLE_CLIENT_ID"
GOOGLE_CLIENT_SECRET="ENTER_YOUR_GOOGLE_CLIENT_SECRET"

# 2. GITHUB: Go to Settings > Developer settings > OAuth Apps > New OAuth App.
#    - Authorization callback URL: https://localhost:443/api/auth/github/callback
GITHUB_CLIENT_ID="ENTER_YOUR_GITHUB_CLIENT_ID"
GITHUB_CLIENT_SECRET="ENTER_YOUR_GITHUB_CLIENT_SECRET"

# 3. 42 INTRA: Go to 42 API Settings > Register a new app.
#    - Redirect URI: https://localhost:443/api/auth/42/callback
INTRA_CLIENT_ID="ENTER_YOUR_42_CLIENT_ID"
INTRA_CLIENT_SECRET="ENTER_YOUR_42_CLIENT_SECRET"

# ------------------------------------------------------------------------------
# DOMAINS & PORTS
# ------------------------------------------------------------------------------
# AUTH_DOMAIN is the base used for common referencing
AUTH_DOMAIN="https://localhost:443"

# Development Environment (Vite Frontend)
AUTH_DOMAIN_DEV="https://localhost:5173"

# Production Environment (Nginx Gateway) (can't bind to 443 at school posts)
AUTH_DOMAIN_PROD="https://localhost:8443"

# ------------------------------------------------------------------------------
# SECURITY SECRETS
# ------------------------------------------------------------------------------
# Generate these using the command: openssl rand -base64 32
# These are used to sign Session Cookies and JWT tokens.
COOKIE_SECRET="CHANGE_ME_WITH_OPENSSL_RAND_BASE64_32"
JWT_SECRET_VALUE="CHANGE_ME_WITH_OPENSSL_RAND_BASE64_32"

# ------------------------------------------------------------------------------
# MONITORING (GRAFANA & PROMETHEUS)
# ------------------------------------------------------------------------------
# Admin credentials for the Grafana Dashboard (http://localhost:3000)
# NOT NEEDED FOR DEVELOPMENT ENVIRONMENT
GF_AUTH_ANONYMOUS_ENABLED=false
GF_SECURITY_ADMIN_USER=admin
GRAFANA_PASSWORD=change_this_strong_password

# ------------------------------------------------------------------------------
# ELASTIC STACK (LOGGING)
# ------------------------------------------------------------------------------
# Password for the 'elastic' superuser in Elasticsearch/Kibana
ELASTIC_PASSWORD=change_this_strong_password
KIBANA_ENCRYPTION_KEY="CHANGE_ME_WITH_OPENSSL_RAND_BASE64_32

# ------------------------------------------------------------------------------
# HASHICORP VAULT (SECRETS MANAGEMENT)
# ------------------------------------------------------------------------------
# The Root Token for Vault initialization.
# In production, this should be rotated/generated.
VAULT_TOKEN=root_token_change_me

# Internal Docker Networking (Do not change unless you rename containers)
VAULT_ADDR_PROD=http://vault-prod:8200
VAULT_ADDR_DEV=http://vault-dev:8200
VAULT_ADDR_ELK=http://vault-elk:8200

# Vault Paths (DO NOT CHANGE)
USER_SECRET_PATH=secret/data/user-service
AUTH_SECRET_PATH=secret/data/auth-service
GLOBAL_CHAT_SECRET_PATH=secret/data/global-chat
PRIVATE_CHAT_SECRET_PATH=secret/data/private-chat
PONG_SECRET_PATH=secret/data/pong-game

# Service Tokens (Pre-Shared Keys)
# These tokens are created by the init script (hashicorpVault.init.sh) and injected
# into the microservices. They act as the "Identity" for each service.
# Generate new random strings for these (e.g., openssl rand -base64 16)
AUTH_SERVICE_TOKEN="generate_unique_token_auth"
USER_SERVICE_TOKEN="generate_unique_token_user"
GLOBAL_CHAT_SERVICE_TOKEN="generate_unique_token_global_chat"
PRIVATE_CHAT_SERVICE_TOKEN="generate_unique_token_private_chat"
PONG_SERVICE_TOKEN="generate_unique_token_pong"